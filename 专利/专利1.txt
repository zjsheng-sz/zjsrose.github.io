
#  手机汽车诊断平台

### 术语解释：

现代汽车故障自诊断技术: 电子控制燃油喷射汽车发动机的控制电脑ECU，设置了故障自诊断系统，该系统主要
用来监测电子控制系统各部件的工作状态，并且根据电子控制系统的配置情况，确定诊断故障的数量多少。当电
喷汽车自诊断系统监测到一个故障时，一方面它启用故障的保护功能，对控制系统进行必要的保护；另一方面，
它将该故障以故障代码的形式存储在随机存储器（RAM）中，并且同时点亮故障指示灯（CHECK ENGING）。
汽车维修人员可按照一定的操作程序，读取该故障的故障码，再通过查对有关的技术资料，将代码所示故障了解
仔细，便可对汽车电控系统故障进行有目的的维修。

ECU（Electronic Control Unit）:电子控制单元，又称“行车电脑”、“车载电脑”等。从用途上讲则是
汽车专用微机控制器。它和普通的电脑一样,由微处理器（CPU）、存储器（ROM、、RAM）、输入/输出接口（I/O）、
模数转换器（A/D）以及整形、驱动等大规模集成电路组成。用一句简单的话来形容就是“ECU就是汽车的大脑”。


OBD: 车载诊断系统, 这个系统随时监控发动机的运行状况和尾气后处理系统的工作状态，一旦发现有可能
引起排放超标的情况，会马上发出警示。当系统出现故障时，故障灯(MIL)或检查发动机(Check Engine)
警告灯亮，同时OBD系统会将故障信息存入存储器，通过标准的诊断仪器和诊断接口可以以故障码的形式读取
相关信息。根据故障码的提示，维修人员能迅速准确地确定故障的性质和部位。


### 背景技术

随着汽车成为家家户户的重要交通工具，汽车诊断行业随着汽车行业也是如火如荼的发展，可是由于各个汽车
制造商的技术壁垒造成诊断行业有一些这样那样的问题：
大多兼容性较差，由于各个汽车厂商之间采用的协议不完全相同，各款诊断仪如果要兼容所有的设备需要投入
大量的人力物力来适配所有厂商的协议。如果哪款车型协议没有适配到的话，就不能诊断。
携带不方便，配套设备价格昂贵：现在市面上大多诊断仪都是采用厂商自制造的平板来展示。这样造成了汽车
诊断设备很难成为一个人人可以使用的设备。

### 解决的技术问题
1、解决了兼容性较差的问题。
2、解决了携带不方便，使用困难的问题。该方案只要使用VCI连接汽车OBD接口，打开手机，通过蓝牙便可以
读取汽车故障码，排放检测，废气检测，查看工况记录，查看冻结帧等等。无需出现一点点小问题就跑去维修点
进行全面检测。可以做到人人能够为自己的汽车诊断。
3、解决了通讯稳定性，常出现读取不到数据的问题。该方案使用手机连接VCI读取汽车ECU的数据。手机与VCI
之间采用蓝牙4.0连接。定时发送连接指令保持VCI和手机的连接。

### 本发明详细技术方案

如图1所有，命令转发方案主要涉及三大块：手机APP，VCI和ECU

手机APP：主要用来发出请求指令，及获得数据后的展示
VCI： 接收到手机发出的请求指令，并将指令转发给ECU。然后从接受ECU发出的指令，再转发给手机，起到了
一个中间桥梁的作用

如图二所示，命令转发的大致流程如下：手机APP先与VCI建立连接，待连接建立好了之后，发送进入系统指令
，通过VCI的转发，ECU做出响应。待进入系统后，获取ECU的VIN码，根据VIN码解析的车辆的具体信息。接着，
发送获取故障码，数据流，排放检测等指令，从而达到汽车诊断的目的。

### 本发明的有益效果
本发明的有益效果主要有：
1）使用范围广，本发明使用了蓝牙4.0通讯方案，且VCI上使用了信号放大，可以在100米范围内通讯，10米
范围内稳定通讯。
2）VCI耗电量低， 蓝牙4.0本身耗电量低，并且我们有做自动休眠功能，做到只有在通讯的时候耗电


### 是否有替代方案
本发明有几个地方有替代方案：
